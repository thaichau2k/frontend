<!DOCTYPE html>
<html>
  <head>
    <title>Bài tập về nhà</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
  table, th, td {
    margin: auto;
    width: 25%;
    border: 1px solid black;   
    text-align: center;
    margin-top: 20px;
  }
  td {
    width:25%;
  }
  button {
    border-radius: 0.4px;
    margin: auto;
    margin-top: 10px;
  }
  input {
    width: 300px;
  }
  #display {
    margin-left: 500px;
  }
    </style>
  </head>
  <body>
    <button onclick="displayTable()" id="display">Display</button>
    <button onclick="hiddenTable()">Hidden</button>
    <button onclick="orderTable()">A-Z</button>
    <input type="text" placeholder="Tìm kiếm..." id="textbox"
      onkeyup="search_function()">
    <p id="list"></p>
    <script>
      var list=[['Châu','x','','x',2],
      ['Quốc','','','x',1],
      ['Giang','x','x','x',3],
      ['Vương','x','x','',2],
      ['Tâm','','','',0]];

      function createTable(x) {
        var my_table = "<table>";
        var row = 0;
        var col;
        for (row = 0; row < x.length; row++) {
          my_table += "<tr>";

          for (col = 0; col < x[row].length-1; col++) {
            my_table += "<td>" + x[row][col] + "</td>";
          }

          my_table += "</tr>";
        }

        my_table += "</table>";

        return my_table;
      }

      function displayTable() {
        var my_table = createTable(list);
        hiddenTable();
        return document.getElementById('list').innerHTML=my_table;
      }

      function orderTable(){
        var orderlist=[...list];
        orderlist.sort();
        var my_table= createTable(orderlist);
        hiddenTable();
        console.log(orderlist);
        console.log(my_table);
        return document.getElementById('list').innerHTML=my_table;
      }

      function hiddenTable() {
        document.getElementById('list').innerHTML="";
      }

      function search_function() {
        
        var input = document.getElementById("textbox");
        var filter = input.value.toUpperCase();
        var searchlist=[];
        var my_table = "<table>";

        for(var i=0; i<5; i++) {
          if(list[i][0].toUpperCase().indexOf(filter)>-1) {
            searchlist=list[i];
            my_table += "<tr>"; 
            for( var j=0; j<searchlist.length-1; j++) {
              
              my_table += "<td>" + searchlist[j] + "</td>";

            }

            my_table += "</tr>";

          }        
        }
        my_table += "</table>";
        console.log(my_table);
        hiddenTable();
        return document.getElementById("list").innerHTML=my_table;
          
        }
    </script>
  </body>
</html>